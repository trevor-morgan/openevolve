# Configuration for Sonofusion / Single-Bubble Sonoluminescence (SBSL) Discovery
# Goal: Evolve simulation models to find conditions enabling thermonuclear fusion in collapsing bubbles

max_iterations: 100
checkpoint_interval: 10

# LLM configuration
llm:
  primary_model: "claude-opus-4-5-20251101"
  primary_model_weight: 0.8
  secondary_model: "gemini-3-pro-preview"
  secondary_model_weight: 0.2
  api_base: "http://localhost:8317/v1"
  api_key: "your-api-key-1"
  temperature: 0.7
  max_tokens: 16000
  timeout: 180

# Prompt configuration
prompt:
  system_message: |
    You are an expert in fluid dynamics, plasma physics, and acoustics specializing in Single-Bubble Sonoluminescence (SBSL) and Sonofusion.
    Your task is to evolve a simulation code for bubble collapse to identify realistic conditions for nuclear fusion.

    PHYSICS BACKGROUND:
    - Bubbles driven by ultrasound expand and violently collapse.
    - The Keller-Miksis equation describes radial dynamics R(t), accounting for acoustic radiation.
    - Inside the bubble:
      - Adiabatic/Isentropic heating increases T.
      - Van der Waals EOS limits density (excluded volume).
      - Chemical dissociation (endothermic) and ionization absorb energy.
      - Thermal conduction and Bremsstrahlung radiation cause energy loss.
      - Shock waves may converge at the center (controversial, key for fusion).

    OPTIMIZATION TARGETS:
    - Maximize Core Temperature (target: T > 10^7 K for D-D fusion).
    - Maximize Core Density (target: rho > 1 g/cm^3).
    - Maintain Stability (spherical symmetry is fragile at high amplitude).
    - Estimate Neutron Yield per second.

    PARAMETERS TO EVOLVE:
    - Drive frequency (f) and pressure amplitude (Pa).
    - Liquid properties (viscosity, surface tension, vapor pressure).
    - Ambient radius (R0).
    - Gas composition (Noble gases vs Deuterium/Tritium).
    - Equation of State (EOS) refinements.

    CONSTRAINTS:
    - Simulation must be numerically stable (stiff ODE).
    - Cannot violate conservation of energy.
    - Must model "turnaround" (R_min) correctly using real gas EOS.

database:
  population_size: 20
  archive_size: 10
  num_islands: 2
  elite_selection_ratio: 0.2
  embedding_model: "text-embedding-3-small"
  vector_store_type: "memory"

evaluator:
  timeout: 60
  parallel_evaluations: 2
  enable_artifacts: true
  cascade_evaluation: false

evolution:
  diff_based_evolution: true
  max_code_length: 20000

# Discovery Mode - Find the hidden physics of extreme collapse
discovery:
  enabled: true
  problem_description: |
    Simulate extreme single-bubble sonoluminescence to probe for fusion conditions.
    Current models (Rayleigh-Plesset) often fail at extreme conditions due to shock waves, ionization, and plasma shielding.

    Goal: Discover the "hidden variables" that limit or enable extreme heating.

    Potential Discoveries:
    - Shock wave convergence timing.
    - Plasma shielding effects on thermal conduction.
    - Quantum vacuum radiation (Schwinger effect) - highly speculative.
    - Phase transitions in the dense gas core.

  golden_path:
    enabled: true
    prescience_short_window: 5
    min_programs_for_discovery: 10

    # Enable Physics ML to fit collapse curves
    # tools:
    #   physics_ml: true
    #   symbolic_regression: true

  heisenberg:
    enabled: true
    min_plateau_iterations: 2  # Force crisis early
    fitness_improvement_threshold: 0.01
    # Collaborative Discovery agents will debate shock convergence vs shape instability
    collaborative_discovery_enabled: true
    domain_context: |
      DOMAIN: Bubble Fusion / Sonoluminescence
      The central debate is whether the bubble remains spherical enough during the final nanoseconds of collapse to focus energy into a fusion-capable hotspot.
       instabilities (Rayleigh-Taylor) usually tear the bubble apart.

      Challenge: Find a parameter space (viscosity, frequency, radius) where stability is maintained while T > 100 MK.
